name: test-get-version

concurrency:
  group: ${{ github.workflow }}-${{ github.head_ref || github.run_id }}
  cancel-in-progress: true

on:
  pull_request:
  push:
    # branches:
    #   - develop
    #   - dev-[2-9][0-9].[0-9][0-9].x
    #   - master
    #   - "[2-9][0-9].[0-9][0-9].x"

jobs:
  get-version-web:
    uses: ./.github/workflows/get-environment.yml
    with:
      version_file: centreon/www/install/insertBaseConf.sql

  get-version-open-tickets:
    uses: ./.github/workflows/get-environment.yml
    with:
      version_file: centreon-open-tickets/www/modules/centreon-open-tickets/conf.php
