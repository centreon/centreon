{
    "autodiscovery": {
        "rules": []
    },
    "commands": [
        {
            "line": "\\\"$USER1$\\\\/$_HOSTNRPECLIENT$ -H $HOSTADDRESS$ -p $_HOSTNRPEPORT$ -t $_HOSTNRPETIMEOUT$ $_HOSTNRPEEXTRAOPTIONS$ -c check_centreon_plugins -a \\'apps::microsoft::mscs::local::plugin\\' \\'resourcegroup-status\\'  \\' --filter-name=\\\\\\\"$_SERVICEFILTERNAME$\\\\\\\" --unknown-status=\\\\\\\"$_SERVICEUNKNOWNSTATUS$\\\\\\\" --warning-status=\\\\\\\"$_SERVICEWARNINGSTATUS$\\\\\\\" --critical-status=\\\\\\\"$_SERVICECRITICALSTATUS$\\\\\\\" $_SERVICEEXTRAOPTIONS$\\'\\\"",
            "name": "App-Mscs-NRPE-Resourcegroup-Status",
            "type": "2"
        },
        {
            "line": "\\\"$USER1$\\\\/$_HOSTNRPECLIENT$ -H $HOSTADDRESS$ -p $_HOSTNRPEPORT$ -t $_HOSTNRPETIMEOUT$ $_HOSTNRPEEXTRAOPTIONS$ -c check_centreon_plugins -a \\'apps::microsoft::mscs::local::plugin\\' \\'resource-status\\'  \\' --filter-name=\\\\\\\"$_SERVICEFILTERNAME$\\\\\\\" --unknown-status=\\\\\\\"$_SERVICEUNKNOWNSTATUS$\\\\\\\" --warning-status=\\\\\\\"$_SERVICEWARNINGSTATUS$\\\\\\\" --critical-status=\\\\\\\"$_SERVICECRITICALSTATUS$\\\\\\\" $_SERVICEEXTRAOPTIONS$\\'\\\"",
            "name": "App-Mscs-NRPE-Resource-Status",
            "type": "2"
        },
        {
            "line": "\\\"$USER1$\\\\/$_HOSTNRPECLIENT$ -H $HOSTADDRESS$ -p $_HOSTNRPEPORT$ -t $_HOSTNRPETIMEOUT$ $_HOSTNRPEEXTRAOPTIONS$ -c check_centreon_plugins -a \\'apps::microsoft::mscs::local::plugin\\' \\'node-status\\'  \\' --filter-name=\\\\\\\"$_SERVICEFILTERNAME$\\\\\\\" --unknown-status=\\\\\\\"$_SERVICEUNKNOWNSTATUS$\\\\\\\" --warning-status=\\\\\\\"$_SERVICEWARNINGSTATUS$\\\\\\\" --critical-status=\\\\\\\"$_SERVICECRITICALSTATUS$\\\\\\\" $_SERVICEEXTRAOPTIONS$\\'\\\"",
            "name": "App-Mscs-NRPE-Node-Status",
            "type": "2"
        },
        {
            "line": "\\\"$USER1$\\\\/$_HOSTNRPECLIENT$ -H $HOSTADDRESS$ -p $_HOSTNRPEPORT$ -t $_HOSTNRPETIMEOUT$ $_HOSTNRPEEXTRAOPTIONS$ -c check_centreon_plugins -a \\'apps::microsoft::mscs::local::plugin\\' \\'network-status\\'  \\' --filter-name=\\\\\\\"$_SERVICEFILTERNAME$\\\\\\\" --unknown-status=\\\\\\\"$_SERVICEUNKNOWNSTATUS$\\\\\\\" --warning-status=\\\\\\\"$_SERVICEWARNINGSTATUS$\\\\\\\" --critical-status=\\\\\\\"$_SERVICECRITICALSTATUS$\\\\\\\" $_SERVICEEXTRAOPTIONS$\\'\\\"",
            "name": "App-Mscs-NRPE-Network-Status",
            "type": "2"
        }
    ],
    "host_templates": [
        {
            "_comment": "{FR: Mod\u00e8le pour superviser Microsoft Cluster Server (MSCS) via NRPE}\r\n{EN: Template to check Microsoft Cluster Server (MSCS) using NRPE protocol}",
            "active_checks_enabled": 2,
            "alias": "Template to check Microsoft Cluster Server (MSCS) using NRPE protocol",
            "check_interval": 0,
            "check_timeperiod": "",
            "checks_enabled": 2,
            "command_name": null,
            "discovery_arguments": "",
            "discovery_command_name": "",
            "icon": "iis-128-2.png",
            "macros": [
                {
                    "key": "$_HOSTNRPECLIENT$",
                    "value": "check_centreon_nrpe"
                },
                {
                    "key": "$_HOSTNRPEEXTRAOPTIONS$",
                    "value": "-u -m 8192"
                },
                {
                    "key": "$_HOSTNRPEPORT$",
                    "value": "5666"
                },
                {
                    "key": "$_HOSTNRPETIMEOUT$",
                    "value": "55"
                }
            ],
            "max_check_attempts": 0,
            "name": "App-Mscs-NRPE",
            "notification_timeperiod": "",
            "parent_template": [
                "generic-active-host"
            ],
            "passive_checks_enabled": 2,
            "services": [
                "App-Mscs-Resourcegroup-Status-NRPE",
                "App-Mscs-Resource-Status-NRPE",
                "App-Mscs-Node-Status-NRPE",
                "App-Mscs-Network-Status-NRPE"
            ],
            "snmp_community": null,
            "snmp_version": null
        }
    ],
    "images": [
        {
            "icon": "iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAABGdBTUEAALGPC/xhBQAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAAOwgAADsIBFShKgAAAAXdJREFUeNrt0kENgEAMRNFqQRGOMIMJMEWCgbIC2Nve5jX56X3y6t23Tmtc/XXc1WkVAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALAWwGwMZWQEAIwAgAAQAEoEUOfTaU0HucYLCwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABY2wdAJk7gki710QAAABh0RVh0U29mdHdhcmUAcGFpbnQubmV0IDQuMC45bDN+TgAAABJ0RVh0RVhJRjpPcmllbnRhdGlvbgAxhFjs7wAAAABJRU5ErkJggg==",
            "name": "iis-128-2.png"
        }
    ],
    "information": {
        "author": "Centreon",
        "changelog": "+ logo/display name update",
        "dependencies": [
            {
                "name": "base-generic",
                "version": "22.05.0"
            }
        ],
        "description": [
            {
                "lang": "en",
                "value": "Plugin pack to monitor Microsoft Cluster Server:\r\n* Node-Status\r\n* Network-Status\r\n* Resource-Status\r\n* Resourcegroup-Status"
            },
            {
                "lang": "fr",
                "value": "Plugin pack pour superviser Microsoft Cluster Server :\r\n* Node-Status\r\n* Network-Status\r\n* Resource-Status\r\n* Resourcegroup-Status"
            }
        ],
        "discovery_category": "applications",
        "email": "imp@centreon.com",
        "icon": "iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAABGdBTUEAALGPC/xhBQAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAAOwgAADsIBFShKgAAAAXdJREFUeNrt0kENgEAMRNFqQRGOMIMJMEWCgbIC2Nve5jX56X3y6t23Tmtc/XXc1WkVAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALAWwGwMZWQEAIwAgAAQAEoEUOfTaU0HucYLCwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABY2wdAJk7gki710QAAABh0RVh0U29mdHdhcmUAcGFpbnQubmV0IDQuMC45bDN+TgAAABJ0RVh0RVhJRjpPcmllbnRhdGlvbgAxhFjs7wAAAABJRU5ErkJggg==",
        "monitoring_procedure": "# Monitoring procedure\r\n\r\n## Prerequisites\r\n\r\n### Centreon Plugin\r\n\r\nInstall this plugin on each needed poller:\r\n\r\n    # yum install centreon-nrpe-plugin\r\n\r\n### Nsclient++\r\n\r\nThis plugin pack requires the use of: \r\n* the Microsoft Cluster Server plugin provided [here](https://forge.centreon.com/projects/centreon-plugins/repository)\r\n* NSClient++ package provided by Centreon, installed and configured on\r\nyour target server as described on http://documentation.centreon.com\r\n\r\nYou can download it [here](https://download.centreon.com/?action=product&product=agent-nsclient&version=0.51&secKey=59d646114079212e03ec09454456a938)\r\n\r\nNote: If you use the NSClient++ installer provided by Centreon, the\r\nplugin is already included in centreon\\_plugins.exe configured in\r\nNSClient++\r\n\r\nIf you have some problems with the centreon\\_plugins.exe, you can build it using [following procedure](https://documentation.centreon.com/docs/centreon-nsclient/en/latest/windows_agent.html#build-your-own-executable)\r\n\r\nWarning: Don't use '!' character in centreon macro configuration!!!\r\n\r\n##Centreon Configuration\r\n\r\n### Create a new Exchange server\r\n\r\nGo to *Configuration &gt; Hosts* and click *Add*. Then, fill the form as\r\nshown by the following table:\r\n\r\n<table>\r\n<colgroup>\r\n<col width=\"58%\" />\r\n<col width=\"41%\" />\r\n</colgroup>\r\n<thead>\r\n<tr class=\"header\">\r\n<th align=\"left\">Field</th>\r\n<th align=\"left\">Value</th>\r\n</tr>\r\n</thead>\r\n<tbody>\r\n<tr class=\"odd\">\r\n<td align=\"left\"><p>Host name</p></td>\r\n<td align=\"left\"><p><em>Name of the host</em></p></td>\r\n</tr>\r\n<tr class=\"even\">\r\n<td align=\"left\"><p>Alias</p></td>\r\n<td align=\"left\"><p><em>Host description</em></p></td>\r\n</tr>\r\n<tr class=\"odd\">\r\n<td align=\"left\"><p>IP</p></td>\r\n<td align=\"left\"><p><em>Host IP Address</em></p></td>\r\n</tr>\r\n<tr class=\"even\">\r\n<td align=\"left\"><p>Monitored from</p></td>\r\n<td align=\"left\"><p><em>Monitoring Poller to use</em></p></td>\r\n</tr>\r\n<tr class=\"odd\">\r\n<td align=\"left\"><p>Host Multiple Templates</p></td>\r\n<td align=\"left\"><p>App-Mscs-NRPE-custom</p></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n\r\nClick on the *Save* button.\r\n\r\nBy default, the host template checks nothing. Go to plugin-pack manager\r\nto see services available.",
        "name": "Microsoft Cluster Server NSClient++ NRPE",
        "plugins_requirements": [],
        "requirement": [],
        "slug": "applications-mscs-nrpe",
        "status": "stable",
        "status_message": "",
        "tags": [
            "Microsoft",
            "Cluster",
            "MSCS",
            "Windows"
        ],
        "update_date": "1628771844",
        "version": "22.05.0",
        "website": "www.centreon.com"
    },
    "schema_version": 1,
    "service_templates": [
        {
            "_comment": "{FR: Contr\u00f4le permettant de v\u00e9rifier le statut des groupes de ressources du cluster.}\r\n\r\n{EN: Check cluster resource group status.}",
            "active_checks_enabled": 2,
            "alias": "Cluster-Resoucegroup-Status",
            "check_timeperiod": "",
            "command_name": "App-Mscs-NRPE-Resourcegroup-Status",
            "discovery_list_mode": "",
            "icon": "",
            "is_volatile": 2,
            "macros": [
                {
                    "description": "",
                    "key": "$_SERVICEUNKNOWNSTATUS$",
                    "password": false,
                    "value": "%{state} =~ /unknown/"
                },
                {
                    "description": "",
                    "key": "$_SERVICEWARNINGSTATUS$",
                    "password": false,
                    "value": "not is_preferred_node()"
                },
                {
                    "description": "",
                    "key": "$_SERVICECRITICALSTATUS$",
                    "password": false,
                    "value": "%{state} =~ /failed|offline/"
                },
                {
                    "description": "",
                    "key": "$_SERVICEEXTRAOPTIONS$",
                    "password": false,
                    "value": "--verbose"
                }
            ],
            "max_check_attempts": 0,
            "name": "App-Mscs-Resourcegroup-Status-NRPE",
            "normal_check_interval": 0,
            "notification_timeperiod": "",
            "parent_template": "generic-active-service",
            "passive_checks_enabled": 2,
            "retry_check_interval": 0
        },
        {
            "_comment": "{FR: Contr\u00f4le permettant de v\u00e9rifier le statut des ressources du cluster.}\r\n\r\n{EN: Check cluster resource status.}",
            "active_checks_enabled": 2,
            "alias": "Cluster-Resouce-Status",
            "check_timeperiod": "",
            "command_name": "App-Mscs-NRPE-Resource-Status",
            "discovery_list_mode": "",
            "icon": "",
            "is_volatile": 2,
            "macros": [
                {
                    "description": "",
                    "key": "$_SERVICEUNKNOWNSTATUS$",
                    "password": false,
                    "value": "%{state} =~ /unknown/"
                },
                {
                    "description": "",
                    "key": "$_SERVICECRITICALSTATUS$",
                    "password": false,
                    "value": "%{state} =~ /failed|offline/"
                },
                {
                    "description": "",
                    "key": "$_SERVICEEXTRAOPTIONS$",
                    "password": false,
                    "value": "--verbose"
                }
            ],
            "max_check_attempts": 0,
            "name": "App-Mscs-Resource-Status-NRPE",
            "normal_check_interval": 0,
            "notification_timeperiod": "",
            "parent_template": "generic-active-service",
            "passive_checks_enabled": 2,
            "retry_check_interval": 0
        },
        {
            "_comment": "{FR: Contr\u00f4le permettant de v\u00e9rifier le statut des noeuds du cluster.}\r\n\r\n{EN: Check cluster node status.}",
            "active_checks_enabled": 2,
            "alias": "Cluster-Node-Status",
            "check_timeperiod": "",
            "command_name": "App-Mscs-NRPE-Node-Status",
            "discovery_list_mode": "",
            "icon": "",
            "is_volatile": 2,
            "macros": [
                {
                    "description": "",
                    "key": "$_SERVICEUNKNOWNSTATUS$",
                    "password": false,
                    "value": "%{state} =~ /unknown/"
                },
                {
                    "description": "",
                    "key": "$_SERVICEWARNINGSTATUS$",
                    "password": false,
                    "value": "%{state} =~ /pause|joining/"
                },
                {
                    "description": "",
                    "key": "$_SERVICECRITICALSTATUS$",
                    "password": false,
                    "value": "%{state} =~ /down/"
                },
                {
                    "description": "",
                    "key": "$_SERVICEEXTRAOPTIONS$",
                    "password": false,
                    "value": "--verbose"
                }
            ],
            "max_check_attempts": 0,
            "name": "App-Mscs-Node-Status-NRPE",
            "normal_check_interval": 0,
            "notification_timeperiod": "",
            "parent_template": "generic-active-service",
            "passive_checks_enabled": 2,
            "retry_check_interval": 0
        },
        {
            "_comment": "{FR: Contr\u00f4le permettant de v\u00e9rifier le statut r\u00e9seaux du cluster.}\r\n\r\n{EN: Check cluster network status.}",
            "active_checks_enabled": 2,
            "alias": "Cluster-Network-Status",
            "check_timeperiod": "",
            "command_name": "App-Mscs-NRPE-Network-Status",
            "discovery_list_mode": "",
            "icon": "",
            "is_volatile": 2,
            "macros": [
                {
                    "description": "",
                    "key": "$_SERVICEUNKNOWNSTATUS$",
                    "password": false,
                    "value": "%{state} =~ /unknown/"
                },
                {
                    "description": "",
                    "key": "$_SERVICECRITICALSTATUS$",
                    "password": false,
                    "value": "%{state} =~ /down|partitioned|unavailable/"
                },
                {
                    "description": "",
                    "key": "$_SERVICEEXTRAOPTIONS$",
                    "password": false,
                    "value": "--verbose"
                }
            ],
            "max_check_attempts": 0,
            "name": "App-Mscs-Network-Status-NRPE",
            "normal_check_interval": 0,
            "notification_timeperiod": "",
            "parent_template": "generic-active-service",
            "passive_checks_enabled": 2,
            "retry_check_interval": 0
        }
    ],
    "timeperiods": []
}
